webpackJsonp([1],{"3cXf":function(e,t,a){e.exports={default:a("4rP4"),__esModule:!0}},"4rP4":function(e,t,a){var s=a("UusJ"),r=s.JSON||(s.JSON={stringify:JSON.stringify});e.exports=function(e){return r.stringify.apply(r,arguments)}},Otbf:function(e,t){},"TKn+":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("lC5x"),r=a.n(s),n=a("J0Oq"),i=a.n(n),l=a("3cXf"),o=a.n(l),c=a("gyMJ"),u=a("nplM"),d={name:"",mounted:function(){this._getUsers()},data:function(){return{result:null}},props:{data:{type:Object}},methods:{_getUsers:function(){var e=this;return i()(r.a.mark(function t(){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.d.getDetail({id:e.data.id});case 2:a=t.sent,e.result=a;case 4:case"end":return t.stop()}},t,e)}))()}}},v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"main"},[a("div",{staticClass:"row"},[a("div",{staticClass:"header"},[e._v("名字：")]),e._v(" "),a("div",{staticClass:"info"},[e._v(e._s(e.result.name))])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"header"},[e._v("电话：")]),e._v(" "),a("div",{staticClass:"info"},[e._v(e._s(e.result.phone))])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"header"},[e._v("自我介绍：")]),e._v(" "),a("div",{staticClass:"info"},[e._v(e._s(e.result.instroduction))])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"header"},[e._v("出生日期：")]),e._v(" "),a("div",{staticClass:"info"},[e._v(e._s(e.result.born))])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"header"},[e._v("城市：")]),e._v(" "),a("div",{staticClass:"info"},[e._v(e._s(e.result.city))])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"header"},[e._v("邮箱：")]),e._v(" "),a("div",{staticClass:"info"},[e._v(e._s(e.result.email))])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"header"},[e._v("微信：")]),e._v(" "),a("div",{staticClass:"info"},[e._v(e._s(e.result.wetchat))])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"header"},[e._v("博客：")]),e._v(" "),a("div",{staticClass:"info"},[e._v(e._s(e.result.blog))])])])])},staticRenderFns:[]};var m=a("Z0/y")(d,v,!1,function(e){a("twc4")},"data-v-5cf66b32",null).exports,p={mounted:function(){this.$_getUserList()},data:function(){return{textAlignCenter:{textAlign:"center"},dialogVisible:!1,detailDialogVisable:!1,passwordDialog:!1,data:[],currentInex:null,currentItem:{},passwordItem:{},rules:{name:[{required:!0,message:"请输入用户名",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"}],phone:[{required:!0,message:"电话",trigger:"blur"}]}}},methods:{getDetail:function(e,t){this.currentItem=JSON.parse(o()(t)),this.detailDialogVisable=!0},handleDelete:function(e,t){var a=this;return i()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.$confirm("删除的内容将无法再恢复，请确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 2:a.data.splice(e,1);case 3:case"end":return t.stop()}},t,a)}))()},closeDialog:function(e){var t=this;return i()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.resetDate();case 1:case"end":return e.stop()}},e,t)}))()},confirmDialog:function(e){var t=this;return i()(r.a.mark(function a(){var s,n,i;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$refs[e].validate();case 3:if(!t.currentItem.id){a.next=20;break}return a.prev=4,s=t.currentItem,n={id:s.id,name:s.name,email:s.email,permission:s.permission},s.phone&&(n.phone=s.phone),a.next=10,c.d.updateUser(n);case 10:t.$set(t.data,t.currentInex,n),t.resetDate(),t.$message.success("更新用户信息成功！"),a.next=18;break;case 15:a.prev=15,a.t0=a.catch(4),t.$message.error("更新用户信息失败:  "+a.t0.message);case 18:a.next=32;break;case 20:return a.prev=20,a.next=23,c.d.createUser(t.currentItem);case 23:i=a.sent,t.data.push({id:i.id,name:i.name,email:i.email,phone:i.phone,permission:i.permission}),t.resetDate(),t.$message.success("添加用户信息成功！"),a.next=32;break;case 29:a.prev=29,a.t1=a.catch(20),t.$message.error("添加用户信息失败:  "+a.t1.message);case 32:a.next=37;break;case 34:a.prev=34,a.t2=a.catch(0),console.log(a.t2);case 37:case"end":return a.stop()}},a,t,[[0,34],[4,15],[20,29]])}))()},resetDate:function(){this.currentItem={},this.currentInex=null,this.dialogVisible=!1},$_getUserList:function(){var e=this;return i()(r.a.mark(function t(){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.d.getUsers();case 3:a=t.sent,e.data=a,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.$message.error("获取用户列表失败<br>"+t.t0.message);case 10:case"end":return t.stop()}},t,e,[[0,7]])}))()}},components:{SlideDialog:u.a,UserDetailDialog:m}},f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"btn-box"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("添加用户")])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data,"cell-style":e.textAlignCenter,"header-cell-style":e.textAlignCenter}},[a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"head",label:"头像"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{height:"100px",width:"100px"},attrs:{src:e.row.head,alt:""}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"认证内容"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.hasShop?a("el-tag",[e._v("向导")]):e._e(),e._v(" "),1===t.row.hasIdCard?a("el-tag",[e._v("实名认证")]):e._e(),e._v(" "),1===t.row.hasGuideCard?a("el-tag",[e._v("导游认证")]):e._e(),e._v(" "),1===t.row.hasEduCard?a("el-tag",[e._v("学历认证")]):e._e(),e._v(" "),1===t.row.hasDriveCard?a("el-tag",[e._v("驾驶证认证")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.getDetail(t.$index,t.row)}}},[e._v("详情")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),e.detailDialogVisable?a("slide-dialog",{on:{close:function(t){e.detailDialogVisable=!1}}},[a("header",{staticClass:"header-dialog-title"},[a("h2",{staticClass:"header-dialog-content"},[e._v(e._s(e.currentItem.desc)+"用户详情")])]),e._v(" "),a("user-detail-dialog",{attrs:{data:e.currentItem}})],1):e._e(),e._v(" "),a("el-dialog",{attrs:{title:"添加/修改用户",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t},"before-close":e.closeDialog,close:e.resetDate}},[a("el-form",{ref:"ruleDialog",attrs:{"label-position":"top","label-width":"80px",model:e.currentItem,rules:e.rules}},[a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{model:{value:e.currentItem.name,callback:function(t){e.$set(e.currentItem,"name",t)},expression:"currentItem.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{model:{value:e.currentItem.email,callback:function(t){e.$set(e.currentItem,"email",t)},expression:"currentItem.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机",prop:"phone"}},[a("el-input",{model:{value:e.currentItem.phone,callback:function(t){e.$set(e.currentItem,"phone",t)},expression:"currentItem.phone"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.closeDialog}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.confirmDialog("ruleDialog")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var _=a("Z0/y")(p,f,!1,function(e){a("Otbf")},"data-v-318b2b8c",null);t.default=_.exports},twc4:function(e,t){}});
//# sourceMappingURL=1.81647cd890de0ed76439.js.map