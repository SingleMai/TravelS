webpackJsonp([0],{"4YfN":function(t,e,a){"use strict";e.__esModule=!0;var n,s=a("aA9S"),i=(n=s)&&n.__esModule?n:{default:n};e.default=i.default||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t}},"4tRY":function(t,e){},"9nGc":function(t,e){},K6pu:function(t,e){},XqjS:function(t,e,a){"use strict";var n={hasDriveCard:"驾驶认证",hasEduCard:"学历认证",hasGuideCard:"导游认证",hasIdCard:"实名认证"},s={name:"",data:function(){return{}},props:{data:{type:Object}},computed:{formateBar:function(){var t=[],e=this.data;for(var a in e)n[a]&&e[a]&&t.push(n[a]);return t}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"validate-list"},t._l(t.formateBar,function(e){return a("li",{key:e,staticClass:"validate-item"},[t._v("\n    "+t._s(e)+"\n  ")])}))},staticRenderFns:[]};var r=a("X4nt")(s,i,!1,function(t){a("9nGc")},"data-v-9ac69d40",null);e.a=r.exports},jGkV:function(t,e,a){"use strict";var n=a("aA9S"),s=a.n(n),i=a("lC5x"),r=a.n(i),c=a("J0Oq"),o=a.n(c),l={name:"",data:function(){return{}},props:{name:{type:[String,void 0],required:!1},size:{type:String,default:"16px"},color:{type:String,default:"inherit"}},methods:{}},u={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",{style:"font-size: "+t.size+";color: "+t.color},[t._v("\n  "+t._s(t.name)+"\n")])},staticRenderFns:[]};var m=a("X4nt")(l,u,!1,function(t){a("K6pu")},"data-v-dc116478",null).exports,d=a("wSez"),v=a("gyMJ"),f={name:"",data:function(){return{commentContent:"你好"}},props:{data:{type:Object,default:function(){}}},filters:{formateTime:function(t){return((t=new Date(t)).getHours()<9?"0"+t.getHours():t.getHours())+":"+(t.getMinutes()<9?"0"+t.getMinutes():t.getMinutes())}},methods:{route2:function(t){this.$router.push(t)},getDetail:function(){console.log("get detail")},toggleLikes:function(){console.log("toggle likes")},createLikes:function(){var t=this;return o()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.e.createLikes({travelId:t.data.id});case 3:t.$emit("needChange"),Object(d.Toast)({message:"点赞成功",iconClass:"icon icon-success"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(d.Toast)({message:"点赞失败",position:"middle"});case 10:case"end":return e.stop()}},e,t,[[0,7]])}))()},createComment:function(t){var e=this;return o()(r.a.mark(function a(){var n,i,c;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,d.MessageBox.prompt(" ","回复/评论");case 3:return n=a.sent,i=n.value,c={travelId:e.data.id,content:i},t&&s()(c,{replyId:t}),a.next=9,v.e.createComment(c);case 9:e.$emit("needChange"),Object(d.Toast)({message:"评论成功",iconClass:"icon icon-success"}),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),Object(d.Toast)({message:"评论失败",position:"middle"});case 16:case"end":return a.stop()}},a,e,[[0,13]])}))()}},components:{MName:m}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"travels-item"},[a("div",{staticClass:"box"},[a("div",{staticClass:"head"},[a("div",{staticClass:"head-left",on:{click:function(e){t.route2("/user/"+t.data.user.id)}}},[a("div",{staticClass:"headImg"},[a("img",{attrs:{src:""+t.data.user.head,alt:""}})]),t._v(" "),a("div",{staticClass:"info"},[a("p",{staticClass:"name"},[a("m-name",{attrs:{name:""+t.data.user.name}})],1),t._v(" "),a("p",{staticClass:"time"},[t._v(t._s(t._f("formateTime")(t.data.time)))])])]),t._v(" "),t._m(0)]),t._v(" "),a("div",{staticClass:"content"},[t._v(t._s(t.data.content))]),t._v(" "),a("ul",{staticClass:"imgs"},t._l(t.data.imgs,function(t,e){return a("li",{key:e,staticClass:"imgs-item"},[a("img",{attrs:{src:t,alt:""}})])})),t._v(" "),a("div",{staticClass:"operate"},[a("p",{staticClass:"btn-like",on:{click:t.createLikes}},[t._v("点赞")]),t._v(" "),a("p",{staticClass:"btn-comment",on:{click:function(e){e.stopPropagation(),t.createComment()}}},[t._v("评论")])]),t._v(" "),t.data.likes.length||t.data.comments.length?a("div",{staticClass:"other-info"},[t.data.likes.length?a("div",{staticClass:"likes-box"},[t._v("❤️\n        "),a("ul",{staticClass:"likes-list"},t._l(t.data.likes,function(e,n){return a("li",{key:n,staticClass:"likes-item",on:{click:function(a){t.route2("/user/"+e.id)}}},[a("m-name",{attrs:{name:e.name,size:"14px",color:"#2d8cf0"}})],1)}))]):t._e(),t._v(" "),t.data.comments.length?a("ul",{staticClass:"comments-list"},t._l(t.data.comments,function(e,n){return a("li",{key:n,staticClass:"comment-item",on:{click:function(a){t.createComment(e.commenter.id)}}},[a("span",{staticClass:"author"},[a("m-name",{attrs:{name:e.commenter.name,size:"14px",color:"#2d8cf0"}})],1),t._v(" "),e.replyer.name?a("span",[t._v("回复")]):t._e(),t._v(" "),a("span",{staticClass:"replyer"},[a("m-name",{attrs:{name:e.replyer.name,size:"14px",color:"#2d8cf0"}})],1),t._v("\n          :\n          "),a("span",{staticClass:"comment"},[t._v(t._s(e.content))])])})):t._e()]):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"head-right"},[e("div",{staticClass:"btn"})])}]};var _=a("X4nt")(f,p,!1,function(t){a("4tRY")},"data-v-721ab22c",null);e.a=_.exports}});
//# sourceMappingURL=0.b0d44842a55a277539ba.js.map