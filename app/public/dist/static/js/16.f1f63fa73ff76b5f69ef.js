webpackJsonp([16],{WLGP:function(e,t){},xJsL:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("3cXf"),s=a.n(n),o=a("lC5x"),i=a.n(o),r=a("J0Oq"),c=a.n(r),l=a("gyMJ"),u=a("wSez"),m={name:"",data:function(){return{email:"",token:""}},methods:{getToken:function(){var e=this;return c()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""===e.email){t.next=10;break}return t.prev=1,t.next=4,l.f.getToken({email:e.email});case 4:Object(u.Toast)({message:"发送成功",iconClass:"icon icon-success"}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),Object(u.Toast)({message:"获取验证码失败： "+t.t0.message,position:"middle",duration:3e3});case 10:case"end":return t.stop()}},t,e,[[1,7]])}))()},login:function(){var e=this;return c()(i.a.mark(function t(){var a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""===e.email||""===e.token){t.next=13;break}return t.prev=1,t.next=4,l.f.login({email:e.email,token:e.token});case 4:a=t.sent,window.localStorage.setItem("token",a.token),window.localStorage.setItem("user",s()(a.origData)),e.$router.go(-1),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),Object(u.Toast)({message:"登录失败： "+t.t0.message,position:"middle",duration:3e3});case 13:case"end":return t.stop()}},t,e,[[1,10]])}))()}}},v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box"},[a("mt-header",{staticClass:"m-header",attrs:{title:"登录"}},[a("mt-button",{attrs:{slot:"left",icon:"back"},nativeOn:{click:function(t){e.back(t)}},slot:"left"},[e._v("返回")])],1),e._v(" "),a("div",{staticClass:"main"},[a("div",{staticClass:"col"},[a("p",{staticClass:"label"},[e._v("邮箱：")]),e._v(" "),a("div",{staticClass:"content"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"text",placeholder:"请输入绑定的邮箱"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),a("p",{staticClass:"btn-get-token",on:{click:e.getToken}},[e._v("获取验证码")])]),e._v(" "),a("div",{staticClass:"col"},[a("p",{staticClass:"label"},[e._v("验证码：")]),e._v(" "),a("div",{staticClass:"content"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.token,expression:"token"}],attrs:{type:"text"},domProps:{value:e.token},on:{input:function(t){t.target.composing||(e.token=t.target.value)}}})])]),e._v(" "),a("mt-button",{attrs:{size:"large",type:"primary"},on:{click:e.login}},[e._v("登录")])],1)],1)},staticRenderFns:[]};var d=a("X4nt")(m,v,!1,function(e){a("WLGP")},"data-v-ce4c425e",null);t.default=d.exports}});
//# sourceMappingURL=16.f1f63fa73ff76b5f69ef.js.map